<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="calc bank card number" />
  <title>é‡ç”Ÿå¡ç‰‡èšé›†åœ°ğŸ ç”Ÿæˆå™¨</title>
  <!-- css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css" />
  <link rel="stylesheet" href="../libjscss/simple/simple.css" />

  <style type="text/css">
    body {
      margin: 5px;
    }

    #main {
      width: 100%;
      margin: 0 auto;
      max-width: 960px;
    }

    #card-length {
      min-width: 36px;
      padding: 6px 6px;
      text-align: center;
      display: inline-block;
    }

    /* CSS for card result */
    .card-green {
      color: green;
    }

    .card-blue {
      color: blue;
    }

    .card-red {
      color: red;
    }

    /* æ·»åŠ ä¸€ä¸ªåä¸º result-div çš„ CSS ç±»ï¼Œç”¨äºä¿®æ”¹ç»“æœ div çš„æ ·å¼ */
    .result-div {
      color: #fff;
      /* è®¾ç½®æ–‡æœ¬é¢œè‰²ä¸ºç™½è‰² */
      background-color: #007bff;
      /* è®¾ç½®èƒŒæ™¯é¢œè‰²ä¸ºè“è‰² */
      padding: 10px;
      /* æ·»åŠ å†…è¾¹è· */
      border-radius: 5px;
      /* æ·»åŠ åœ†è§’è¾¹æ¡† */
      margin-top: 10px;
      /* æ·»åŠ é¡¶éƒ¨å¤–è¾¹è· */
    }

    /* CSS for clear button */
    #clear-btn {
      margin-left: 10px;
      background-color: #87ceeb;
      /* å°†æŒ‰é’®èƒŒæ™¯è‰²è®¾ç½®ä¸ºå¤©è“è‰² */
      border-color: #87ceeb;
      /* è¾¹æ¡†é¢œè‰²ä¹Ÿè®¾ç½®ä¸ºå¤©è“è‰² */
    }

    #clear-btn:hover {
      background-color: #7acfea;
      /* æ‚¬åœæ—¶çš„èƒŒæ™¯è‰² */
      border-color: #7acfea;
      /* æ‚¬åœæ—¶çš„è¾¹æ¡†é¢œè‰² */
    }

    #usageButton:hover {
      background-color: #7acfea;
      /* æ‚¬åœæ—¶çš„èƒŒæ™¯è‰² */
      border-color: #7acfea;
      /* æ‚¬åœæ—¶çš„è¾¹æ¡†é¢œè‰² */
    }

    #usageButton {
      margin-left: 10px;
      background-color: #87ceeb;
      /* å°†æŒ‰é’®èƒŒæ™¯è‰²è®¾ç½®ä¸ºå¤©è“è‰² */
      border-color: #87ceeb;
      /* è¾¹æ¡†é¢œè‰²ä¹Ÿè®¾ç½®ä¸ºå¤©è“è‰² */
    }

    #usageButton:focus {
      outline: none;
      /* ç§»é™¤æŒ‰é’®çš„é»˜è®¤èšç„¦æ ·å¼ */
      box-shadow: none;
    }
  </style>
</head>

<body>
  <script src="json.js"></script>
  <script type="text/javascript" charset="UTF-8" src="libjscss/mask/mask.js"></script>
  <script type="text/javascript" charset="UTF-8">
    var mask = new Mask();
    mask.show();
  </script>

  <div id="main">
    <h1>é‡ç”Ÿå¡ç‰‡èšé›†åœ°ğŸ </h1>
    <p id="prompt-info">æ ¹æ®è¾“å…¥çš„æ•°å­—ã€å­—æ¯åŠ * å·ï¼ˆåŒä¸€å­—æ¯è¡¨ç¤ºç›¸åŒæ•°å­—ï¼Œ* å·è¡¨ç¤ºä»»æ„æ•°å­—ï¼‰</p>
    <p id="prompt-info">ä¼šæ ¹æ®è¾“å…¥å‰å…­ä½è‡ªåŠ¨è¯†åˆ«é“¶è¡Œã€ç±»åˆ«ï¼ˆæœ‰è¯¯çš„å’Œæˆ‘åé¦ˆï¼Œéƒ¨åˆ†é“¶è¡Œæ— æ³•è¯†åˆ«ï¼Œä¾‹å¦‚æµ¦å‘é’»çŸ³ç§è¡Œï¼‰</p>
    <p id="prompt-info">ç”Ÿæˆæ»¡è¶³ Luhn ç®—æ³•çš„é“¶è¡Œå¡å·ï¼Œç”¨äºå¡å·å®šåˆ¶æå‰ç®—å·ã€‚</p>
    <p id="prompt-info">æ¬¢è¿æä¾›å¥½æƒ³æ³•æ¥ä¼˜åŒ–è¯¥ç”Ÿæˆå™¨ï¼Œè”ç³»vxï¼šyeeeoe</p>
    <div class="input-group mb-3">
      <span class="input-group-text" id="card-length">0</span>
      <input class="form-control" type="text" id="card" placeholder="è¯·è¾“å…¥å¡å·">
      <button class="btn btn-danger" id="clear-btn" onclick="clearInput()">æ¸…ç©º</button> <!-- æ¸…ç©ºæŒ‰é’® -->
    </div>
    <div id="result" class="result-div"></div>
    <p></p>
    <div class="form-group">
      <label for="filterLength">è¿‡æ»¤å¡å·åå‡ ä½ä¸åŒ…å«4ï¼š</label>
      <select class="form-control" id="filterLength" style="display:inline-block; width:auto; margin-left:10px;">
        <option value="0">ä¸è¿‡æ»¤</option>
        <option value="7">å7ä½</option>
        <option value="8">å8ä½</option>
        <option value="9">å9ä½</option>
        <option value="10">å10ä½</option>
      </select>
    </div>

    <div class="form-group">
      <label for="digitsCount">å<select id="digitsCount" class="form-control"
          style="display: inline-block; width: auto;">
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
        </select>ä½åŒ…å«ä»¥ä¸‹æ•°å­—ï¼š</label><br>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="digit0" value="0">
        <label class="form-check-label" for="digit0">0</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="digit1" value="1">
        <label class="form-check-label" for="digit1">1</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="digit2" value="2">
        <label class="form-check-label" for="digit2">2</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="digit3" value="3">
        <label class="form-check-label" for="digit3">3</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="digit4" value="4">
        <label class="form-check-label" for="digit4">4</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="digit5" value="5">
        <label class="form-check-label" for="digit5">5</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="digit6" value="6">
        <label class="form-check-label" for="digit6">6</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="digit7" value="7">
        <label class="form-check-label" for="digit7">7</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="digit8" value="8">
        <label class="form-check-label" for="digit8">8</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="digit9" value="9">
        <label class="form-check-label" for="digit9">9</label>
      </div>
    </div>


    <p></p>

    <p class="result-p"><span id="validText">å·²è¾“å…¥æœ‰æ•ˆä½æ•°ï¼š</span><span id="validCount">0</span><button id="usageButton"
        class="btn btn-danger">ä½¿ç”¨è¯´æ˜</button></p>

    <div class="alert alert-primary" role="alert">
      è¯·è¾“å…¥å¡å·ï¼Œæ”¯æŒè¾“å…¥ç©ºæ ¼åˆ†éš”ç¬¦
    </div>

    <div id="rslt"></div>
  </div>

  <!-- JS Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="libjscss/toptip/toptip.js"></script>
  <script src="libjscss/simple/simple.js"></script>
  <script src="js/explain.js" type="text/javascript"></script>
  <script src="lib/luhn.js"></script>
  <script src="lib/card_util.js"></script>
  <script src="js/card_num.js"></script>
  <script>
    function clearInput () {
      document.getElementById('card').value = ''; // æ¸…ç©ºè¾“å…¥æ¡†å†…å®¹
    }

    function search () {
      const searchValue = document.getElementById('card').value.replace(/\s/g, '').trim().toLowerCase().substring(0, 6); // å»é™¤æ‰€æœ‰ç©ºç™½å­—ç¬¦å¹¶ä¿ç•™å‰å…­ä½
      const resultDiv = document.getElementById('result');
      resultDiv.innerHTML = '';

      if (searchValue.length < 6) {
        return; // å¦‚æœè¾“å…¥å­—ç¬¦æ•°å°äºå››ä½ï¼Œä¸æ‰§è¡Œæœç´¢æ“ä½œ
      }

      let found = false;
      let resultString = ''; // å­˜å‚¨æœç´¢ç»“æœçš„å­—ç¬¦ä¸²

      excelData.forEach(item => {
        const bankNoStr = item.bank_no.toString();
        if (bankNoStr.startsWith(searchValue)) {
          if (found) {
            resultString += ', '; // åœ¨ç»“æœä¹‹é—´æ·»åŠ é€—å·åˆ†éš”
          }
          resultString += item.bank_name; // å°†é“¶è¡Œåç§°æ·»åŠ åˆ°ç»“æœå­—ç¬¦ä¸²ä¸­
          found = true;
        }
      });

      if (found) {
        resultDiv.innerHTML = resultString; // å°†ç»“æœå­—ç¬¦ä¸²è®¾ç½®ä¸ºç»“æœ div çš„å†…å®¹
      } else {
        resultDiv.innerHTML = 'No results found';
      }
    }

    // ç›‘å¬è¾“å…¥äº‹ä»¶
    document.getElementById('card').addEventListener('input', search);

  </script>
</body>

</html>
